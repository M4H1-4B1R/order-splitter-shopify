import{r as o,R as n,w as ft,G as gt,u as ht,j as x,F as xn}from"./chunk-NISHYRIK-C6H48Nd1.js";import{l as ge,I as ie,T as F,c as _,k as Nn,z as bt,t as Et,u as xt,v as X,S as kt,n as Ct,m as K,s as Fn,A as Pt,e as Ve,b as ee,B as be,a as St,i as It,D as vt,E as kn}from"./components-UtzYwED0.js";import{j as $e,E as _t,u as Lt}from"./use-is-after-initial-mount-BFIEK1BH.js";let te=(function(e){return e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key0=48]="Key0",e[e.Key1=49]="Key1",e[e.Key2=50]="Key2",e[e.Key3=51]="Key3",e[e.Key4=52]="Key4",e[e.Key5=53]="Key5",e[e.Key6=54]="Key6",e[e.Key7=55]="Key7",e[e.Key8=56]="Key8",e[e.Key9=57]="Key9",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.LeftMeta=91]="LeftMeta",e[e.RightMeta=92]="RightMeta",e[e.Select=93]="Select",e[e.Numpad0=96]="Numpad0",e[e.Numpad1=97]="Numpad1",e[e.Numpad2=98]="Numpad2",e[e.Numpad3=99]="Numpad3",e[e.Numpad4=100]="Numpad4",e[e.Numpad5=101]="Numpad5",e[e.Numpad6=102]="Numpad6",e[e.Numpad7=103]="Numpad7",e[e.Numpad8=104]="Numpad8",e[e.Numpad9=105]="Numpad9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote",e})({});function Nt(e,t,a,r){const l=o.useRef(t),s=o.useRef(r);$e(()=>{l.current=t},[t]),$e(()=>{s.current=r},[r]),o.useEffect(()=>{if(!(typeof e=="string"&&a!==null))return;let c;if(typeof a>"u")c=window;else if("current"in a){if(a.current===null)return;c=a.current}else c=a;const d=s.current,f=p=>l.current(p);return c.addEventListener(e,f,d),()=>{c.removeEventListener(e,f,d)}},[e,a])}var Tn=function(t){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),n.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),n.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};Tn.displayName="AlertCircleIcon";var Bn=function(t){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),n.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};Bn.displayName="MinusIcon";var Mn=function(t){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),n.createElement("path",{d:"M13.03 6.97a.75.75 0 0 1 0 1.06l-1.97 1.97 1.97 1.97a.75.75 0 1 1-1.06 1.06l-1.97-1.97-1.97 1.97a.75.75 0 0 1-1.06-1.06l1.97-1.97-1.97-1.97a.75.75 0 0 1 1.06-1.06l1.97 1.97 1.97-1.97a.75.75 0 0 1 1.06 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"}))};Mn.displayName="XCircleIcon";function la(e,t={}){return Array.isArray(e)?e.map((a,r)=>He(a,t,r)):He(e,t)}function He({content:e,onAction:t,plain:a,destructive:r,...l},s,c){const d=a?"plain":void 0,f=r?"primary":void 0,p=!(s!=null&&s.tone)&&r?"critical":s==null?void 0:s.tone;return n.createElement(ge,Object.assign({key:c,onClick:t,tone:p,variant:d||f},l,s),e)}var m={TextField:"Polaris-TextField",ClearButton:"Polaris-TextField__ClearButton",Loading:"Polaris-TextField__Loading",disabled:"Polaris-TextField--disabled",error:"Polaris-TextField--error",readOnly:"Polaris-TextField--readOnly",Input:"Polaris-TextField__Input",Backdrop:"Polaris-TextField__Backdrop",multiline:"Polaris-TextField--multiline",hasValue:"Polaris-TextField--hasValue",focus:"Polaris-TextField--focus",VerticalContent:"Polaris-TextField__VerticalContent",InputAndSuffixWrapper:"Polaris-TextField__InputAndSuffixWrapper",toneMagic:"Polaris-TextField--toneMagic",Prefix:"Polaris-TextField__Prefix",Suffix:"Polaris-TextField__Suffix",AutoSizeWrapper:"Polaris-TextField__AutoSizeWrapper",AutoSizeWrapperWithSuffix:"Polaris-TextField__AutoSizeWrapperWithSuffix",suggestion:"Polaris-TextField--suggestion",borderless:"Polaris-TextField--borderless",slim:"Polaris-TextField--slim","Input-hasClearButton":"Polaris-TextField__Input--hasClearButton","Input-suffixed":"Polaris-TextField__Input--suffixed","Input-alignRight":"Polaris-TextField__Input--alignRight","Input-alignLeft":"Polaris-TextField__Input--alignLeft","Input-alignCenter":"Polaris-TextField__Input--alignCenter","Input-autoSize":"Polaris-TextField__Input--autoSize",PrefixIcon:"Polaris-TextField__PrefixIcon",CharacterCount:"Polaris-TextField__CharacterCount",AlignFieldBottom:"Polaris-TextField__AlignFieldBottom",Spinner:"Polaris-TextField__Spinner",SpinnerIcon:"Polaris-TextField__SpinnerIcon",Resizer:"Polaris-TextField__Resizer",DummyInput:"Polaris-TextField__DummyInput",Segment:"Polaris-TextField__Segment",monospaced:"Polaris-TextField--monospaced"},ae={hidden:"Polaris-Labelled--hidden",LabelWrapper:"Polaris-Labelled__LabelWrapper",disabled:"Polaris-Labelled--disabled",HelpText:"Polaris-Labelled__HelpText",readOnly:"Polaris-Labelled--readOnly",Error:"Polaris-Labelled__Error",Action:"Polaris-Labelled__Action"},Cn={InlineError:"Polaris-InlineError",Icon:"Polaris-InlineError__Icon"};function ye({message:e,fieldID:t}){return e?n.createElement("div",{id:qe(t),className:Cn.InlineError},n.createElement("div",{className:Cn.Icon},n.createElement(ie,{source:Tn})),n.createElement(F,{as:"span",variant:"bodyMd"},e)):null}function qe(e){return`${e}Error`}var Pe={Label:"Polaris-Label",hidden:"Polaris-Label--hidden",Text:"Polaris-Label__Text",RequiredIndicator:"Polaris-Label__RequiredIndicator"};function Rn(e){return`${e}Label`}function Ft({children:e,id:t,hidden:a,requiredIndicator:r}){const l=_(Pe.Label,a&&Pe.hidden);return n.createElement("div",{className:l},n.createElement("label",{id:Rn(t),htmlFor:t,className:_(Pe.Text,r&&Pe.RequiredIndicator)},n.createElement(F,{as:"span",variant:"bodyMd"},e)))}function An({id:e,label:t,error:a,action:r,helpText:l,children:s,labelHidden:c,requiredIndicator:d,disabled:f,readOnly:p,...b}){const C=_(c&&ae.hidden,f&&ae.disabled,p&&ae.readOnly),I=r?n.createElement("div",{className:ae.Action},He(r,{variant:"plain"})):null,k=l?n.createElement("div",{className:ae.HelpText,id:Ue(e),"aria-disabled":f},n.createElement(F,{as:"span",tone:"subdued",variant:"bodyMd",breakWord:!0},l)):null,E=a&&typeof a!="boolean"&&n.createElement("div",{className:ae.Error},n.createElement(ye,{message:a,fieldID:e})),P=t?n.createElement("div",{className:ae.LabelWrapper},n.createElement(Ft,Object.assign({id:e,requiredIndicator:d},b,{hidden:!1}),t),I):null;return n.createElement("div",{className:C},P,s,E,k)}function Ue(e){return`${e}HelpText`}var he={Connected:"Polaris-Connected",Item:"Polaris-Connected__Item","Item-primary":"Polaris-Connected__Item--primary","Item-focused":"Polaris-Connected__Item--focused"};function De({children:e,position:t}){const{value:a,setTrue:r,setFalse:l}=Nn(!1),s=_(he.Item,a&&he["Item-focused"],t==="primary"?he["Item-primary"]:he["Item-connection"]);return n.createElement("div",{onBlur:l,onFocus:r,className:s},e)}function Tt({children:e,left:t,right:a}){const r=t?n.createElement(De,{position:"left"},t):null,l=a?n.createElement(De,{position:"right"},a):null;return n.createElement("div",{className:he.Connected},r,n.createElement(De,{position:"primary"},e),l)}const Bt=n.forwardRef(function({onChange:t,onClick:a,onMouseDown:r,onMouseUp:l,onBlur:s},c){function d(p){return()=>t(p)}function f(p){return b=>{b.button===0&&(r==null||r(p))}}return n.createElement("div",{className:m.Spinner,onClick:a,"aria-hidden":!0,ref:c},n.createElement("div",{role:"button",className:m.Segment,tabIndex:-1,onClick:d(1),onMouseDown:f(d(1)),onMouseUp:l,onBlur:s},n.createElement("div",{className:m.SpinnerIcon},n.createElement(ie,{source:bt}))),n.createElement("div",{role:"button",className:m.Segment,tabIndex:-1,onClick:d(-1),onMouseDown:f(d(-1)),onMouseUp:l,onBlur:s},n.createElement("div",{className:m.SpinnerIcon},n.createElement(ie,{source:Et}))))});function Mt({contents:e,currentHeight:t=null,minimumLines:a,onHeightChange:r}){const l=o.useRef(null),s=o.useRef(null),c=o.useRef(),d=o.useRef(t);t!==d.current&&(d.current=t),o.useEffect(()=>()=>{c.current&&cancelAnimationFrame(c.current)},[]);const f=a?n.createElement("div",{ref:s,className:m.DummyInput,dangerouslySetInnerHTML:{__html:jt(a)}}):null,p=o.useCallback(()=>{c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(!l.current||!s.current)return;const b=Math.max(l.current.offsetHeight,s.current.offsetHeight);b!==d.current&&r(b)})},[r]);return $e(()=>{p()}),n.createElement("div",{"aria-hidden":!0,className:m.Resizer},n.createElement(_t,{event:"resize",handler:p}),n.createElement("div",{ref:l,className:m.DummyInput,dangerouslySetInnerHTML:{__html:wt(e)}}),f)}const jn={"&":"&amp;","<":"&lt;",">":"&gt;","\n":"<br>","\r":""},Rt=new RegExp(`[${Object.keys(jn).join()}]`,"g");function At(e){return jn[e]}function jt(e){let t="";for(let a=0;a<e;a++)t+="<br>";return t}function wt(e){return e?`${e.replace(Rt,At)}<br>`:"<br>"}function Dt({prefix:e,suffix:t,verticalContent:a,placeholder:r,value:l="",helpText:s,label:c,labelAction:d,labelHidden:f,disabled:p,clearButton:b,readOnly:C,autoFocus:I,focused:k,multiline:E,error:P,connectedRight:u,connectedLeft:L,type:h="text",name:O,id:N,role:D,step:R,largeStep:w,autoComplete:T,max:B,maxLength:v,maxHeight:Q,min:M,minLength:ne,pattern:$,inputMode:le,spellCheck:se,ariaOwns:q,ariaControls:H,ariaExpanded:Se,ariaActiveDescendant:Ie,ariaAutocomplete:ve,showCharacterCount:Ee,align:Xe,requiredIndicator:Qe,monospaced:Hn,selectTextOnFocus:Wn,suggestion:U,variant:Ye="inherit",size:zn="medium",onClearButtonClick:Je,onChange:W,onSpinnerChange:Y,onFocus:Ke,onBlur:en,tone:nn,autoSize:_e,loading:Vn}){const Le=xt(),[Ne,yn]=o.useState(null),[oe,Fe]=o.useState(!!k),qn=Lt(),Un=o.useId(),S=N??Un,tn=o.useRef(null),G=o.useRef(null),an=o.useRef(null),Te=o.useRef(null),Be=o.useRef(null),Me=o.useRef(null),xe=o.useRef(null),Re=o.useRef(),Ae=o.useRef(null),re=o.useCallback(()=>E?an.current:G.current,[E]);o.useEffect(()=>{const i=re();!i||k===void 0||(k?i.focus():i.blur())},[k,a,re]),o.useEffect(()=>{const i=G.current;!i||!(h==="text"||h==="tel"||h==="search"||h==="url"||h==="password")||!U||i.setSelectionRange(l.length,U.length)},[oe,l,h,U]);const ce=U||l,rn=R??1,ln=B??1/0,sn=M??-1/0,Gn=_(m.TextField,!!ce&&m.hasValue,p&&m.disabled,C&&m.readOnly,P&&m.error,nn&&m[X("tone",nn)],E&&m.multiline,oe&&!p&&m.focus,Ye!=="inherit"&&m[Ye],zn==="slim"&&m.slim),Zn=h==="currency"?"text":h,ke=h==="number"||h==="integer",Xn=n.isValidElement(e)&&e.type===ie,Qn=e?n.createElement("div",{className:_(m.Prefix,Xn&&m.PrefixIcon),id:`${S}-Prefix`,ref:Te},n.createElement(F,{as:"span",variant:"bodyMd"},e)):null,on=t?n.createElement("div",{className:m.Suffix,id:`${S}-Suffix`,ref:Be},n.createElement(F,{as:"span",variant:"bodyMd"},t)):null,Yn=Vn?n.createElement("div",{className:m.Loading,id:`${S}-Loading`,ref:Me},n.createElement(kt,{size:"small"})):null;let cn=null;if(Ee){const i=ce.length,g=v?Le.translate("Polaris.TextField.characterCountWithMaxLength",{count:i,limit:v}):Le.translate("Polaris.TextField.characterCount",{count:i}),A=_(m.CharacterCount,E&&m.AlignFieldBottom),j=v?`${i}/${v}`:i;cn=n.createElement("div",{id:`${S}-CharacterCounter`,className:A,"aria-label":g,"aria-live":oe?"polite":"off","aria-atomic":"true",onClick:Ce},n.createElement(F,{as:"span",variant:"bodyMd"},j))}const Jn=b&&ce!==""?n.createElement("button",{type:"button",className:m.ClearButton,onClick:ut,disabled:p},n.createElement(F,{as:"span",visuallyHidden:!0},Le.translate("Polaris.Common.clear")),n.createElement(ie,{source:Mn,tone:"base"})):null,ue=o.useCallback((i,g=rn)=>{if(W==null&&Y==null)return;const A=pt=>(pt.toString().split(".")[1]||[]).length,j=l?parseFloat(l):0;if(isNaN(j))return;const z=h==="integer"?0:Math.max(A(j),A(g)),pe=Math.min(Number(ln),Math.max(j+i*g,Number(sn)));Y!=null?Y(String(pe.toFixed(z)),S):W!=null&&W(String(pe.toFixed(z)),S)},[S,ln,sn,W,Y,rn,h,l]),je=o.useCallback(()=>{clearTimeout(Re.current)},[]),Kn=o.useCallback(i=>{let j=200;const z=()=>{j>50&&(j-=10),i(0),Re.current=window.setTimeout(z,j)};Re.current=window.setTimeout(z,j),document.addEventListener("mouseup",je,{once:!0})},[je]),et=ke&&R!==0&&!p&&!C?n.createElement(Bt,{onClick:Ce,onChange:ue,onMouseDown:Kn,onMouseUp:je,ref:Ae,onBlur:fn}):null,nt=E&&Ne?{height:Ne,maxHeight:Q}:null,tt=o.useCallback(i=>{yn(i)},[]),at=E&&qn?n.createElement(Mt,{contents:ce||r,currentHeight:Ne,minimumLines:typeof E=="number"?E:1,onHeightChange:tt}):null,de=[];P&&de.push(`${S}Error`),s&&de.push(Ue(S)),Ee&&de.push(`${S}-CharacterCounter`);const me=[];e&&me.push(`${S}-Prefix`),t&&me.push(`${S}-Suffix`),a&&me.push(`${S}-VerticalContent`),me.unshift(Rn(S));const it=_(m.Input,Xe&&m[X("Input-align",Xe)],t&&m["Input-suffixed"],b&&m["Input-hasClearButton"],Hn&&m.monospaced,U&&m.suggestion,_e&&m["Input-autoSize"]),un=i=>{if(Fe(!0),Wn&&!U){const g=re();g==null||g.select()}Ke&&Ke(i)};Nt("wheel",rt,G);function rt(i){document.activeElement===i.target&&ke&&i.stopPropagation()}const dn=o.createElement(E?"textarea":"input",{name:O,id:S,disabled:p,readOnly:C,role:D,autoFocus:I,value:ce,placeholder:r,style:nt,autoComplete:T,className:it,ref:E?an:G,min:M,max:B,step:R,minLength:ne,maxLength:v,spellCheck:se,pattern:$,inputMode:le,type:Zn,rows:Ot(E),size:_e?1:void 0,"aria-describedby":de.length?de.join(" "):void 0,"aria-labelledby":me.join(" "),"aria-invalid":!!P,"aria-owns":q,"aria-activedescendant":Ie,"aria-autocomplete":ve,"aria-controls":H,"aria-expanded":Se,"aria-required":Qe,...$t(E),onFocus:un,onBlur:fn,onClick:Ce,onKeyPress:dt,onKeyDown:mt,onChange:U?void 0:pn,onInput:U?pn:void 0,"data-1p-ignore":T==="off"||void 0,"data-lpignore":T==="off"||void 0,"data-form-type":T==="off"?"other":void 0}),lt=a?n.createElement("div",{className:m.VerticalContent,id:`${S}-VerticalContent`,ref:xe,onClick:Ce},a,dn):null,mn=a?lt:dn,st=n.createElement("div",{className:_(m.Backdrop,L&&m["Backdrop-connectedLeft"],u&&m["Backdrop-connectedRight"])}),ot=_e?n.createElement("div",{className:m.InputAndSuffixWrapper},n.createElement("div",{className:_(m.AutoSizeWrapper,t&&m.AutoSizeWrapperWithSuffix),"data-auto-size-value":l||r},mn),on):n.createElement(n.Fragment,null,mn,on);return n.createElement(An,{label:c,id:S,error:P,action:d,labelHidden:f,helpText:s,requiredIndicator:Qe,disabled:p,readOnly:C},n.createElement(Tt,{left:L,right:u},n.createElement("div",{className:Gn,onClick:ct,ref:tn},Qn,ot,cn,Yn,Jn,et,st,at)));function pn(i){W&&W(i.currentTarget.value,S)}function ct(i){var j,z,pe;const{target:g}=i,A=(j=G==null?void 0:G.current)==null?void 0:j.getAttribute("role");if(g===G.current&&A==="combobox"){(z=G.current)==null||z.focus(),un(i);return}gn(g)||En(g)||we(g)||hn(g)||bn(g)||oe||(pe=re())==null||pe.focus()}function Ce(i){var g;!hn(i.target)&&!we(i.target)&&i.stopPropagation(),!(gn(i.target)||En(i.target)||we(i.target)||bn(i.target)||oe)&&(Fe(!0),(g=re())==null||g.focus())}function ut(){Je&&Je(S)}function dt(i){const{key:g,which:A}=i,j=/[\d.,eE+-]$/,z=/[\deE+-]$/;!ke||A===te.Enter||h==="number"&&j.test(g)||h==="integer"&&z.test(g)||i.preventDefault()}function mt(i){if(!ke)return;const{key:g,which:A}=i;h==="integer"&&(g==="ArrowUp"||A===te.UpArrow)&&(ue(1),i.preventDefault()),h==="integer"&&(g==="ArrowDown"||A===te.DownArrow)&&(ue(-1),i.preventDefault()),(A===te.Home||g==="Home")&&M!==void 0&&(Y!=null?Y(String(M),S):W!=null&&W(String(M),S)),(A===te.End||g==="End")&&B!==void 0&&(Y!=null?Y(String(B),S):W!=null&&W(String(B),S)),(A===te.PageUp||g==="PageUp")&&w!==void 0&&ue(1,w),(A===te.PageDown||g==="PageDown")&&w!==void 0&&ue(-1,w)}function fn(i){var g;Fe(!1),!((g=tn.current)!=null&&g.contains(i==null?void 0:i.relatedTarget))&&en&&en(i)}function we(i){const g=re();return i instanceof HTMLElement&&g&&(g.contains(i)||g.contains(document.activeElement))}function gn(i){return i instanceof Element&&(Te.current&&Te.current.contains(i)||Be.current&&Be.current.contains(i))}function hn(i){return i instanceof Element&&Ae.current&&Ae.current.contains(i)}function bn(i){return i instanceof Element&&Me.current&&Me.current.contains(i)}function En(i){return i instanceof Element&&xe.current&&(xe.current.contains(i)||xe.current.contains(document.activeElement))}}function Ot(e){if(e)return typeof e=="number"?e:1}function $t(e){if(e)return e||typeof e=="number"&&e>0?{"aria-multiline":!0}:void 0}const Ht=o.createContext(!1);var V={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},Z={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function wn({id:e,label:t,disabled:a,error:r,children:l,labelHidden:s,helpText:c,onClick:d,labelClassName:f,fill:p,bleed:b,bleedBlockStart:C,bleedBlockEnd:I,bleedInlineStart:k,bleedInlineEnd:E,tone:P}){const u=_(Z.Choice,s&&Z.labelHidden,a&&Z.disabled,P&&Z[X("tone",P)],f),L={...K("choice","bleed-block-end","space",I||b),...K("choice","bleed-block-start","space",C||b),...K("choice","bleed-inline-start","space",k||b),...K("choice","bleed-inline-end","space",E||b),...Object.fromEntries(Object.entries(Ct("choice","fill",p)).map(([R,w])=>[R,w?"100%":"auto"]))},h=n.createElement("label",{className:u,htmlFor:e,onClick:d,style:Fn(L)},n.createElement("span",{className:Z.Control},l),n.createElement("span",{className:Z.Label},n.createElement(F,{as:"span",variant:"bodyMd"},t))),O=c?n.createElement("div",{className:Z.HelpText,id:Ge(e)},n.createElement(F,{as:"span",tone:a?void 0:"subdued"},c)):null,N=r&&typeof r!="boolean"&&n.createElement("div",{className:Z.Error},n.createElement(ye,{message:r,fieldID:e})),D=O||N?n.createElement("div",{className:Z.Descriptions},N,O):null;return D?n.createElement("div",null,h,D):h}function Ge(e){return`${e}HelpText`}const Wt=o.forwardRef(function({ariaControls:t,ariaDescribedBy:a,label:r,labelHidden:l,checked:s=!1,helpText:c,disabled:d,id:f,name:p,value:b,error:C,onChange:I,onFocus:k,onBlur:E,labelClassName:P,fill:u,bleed:L,bleedBlockStart:h,bleedBlockEnd:O,bleedInlineStart:N,bleedInlineEnd:D,tone:R},w){const T=o.useRef(null),B=o.useId(),v=f??B,Q=o.useContext(Ht);o.useImperativeHandle(w,()=>({focus:()=>{T.current&&T.current.focus()}}));const M=()=>{E&&E()},ne=()=>{I==null||T.current==null||d||(I(T.current.checked,v),T.current.focus())},$=[];C&&typeof C!="boolean"&&$.push(qe(v)),c&&$.push(Ge(v)),a&&$.push(a);const le=$.length?$.join(" "):void 0,se=_(V.Checkbox,C&&V.error),q=s==="indeterminate",H=!q&&!!s,Se=q?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":H},Ie=n.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},n.createElement("path",{className:_(s&&V.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),ve=_(V.Input,q&&V["Input-indeterminate"],R&&V[X("tone",R)]),Ee={helpText:c,error:C,bleed:L,bleedBlockStart:h,bleedBlockEnd:O,bleedInlineStart:N,bleedInlineEnd:D};return n.createElement(wn,Object.assign({id:v,label:r,labelHidden:l,disabled:d,labelClassName:_(V.ChoiceLabel,P),fill:u,tone:R},Ee),n.createElement("span",{className:se},n.createElement("input",Object.assign({ref:T,id:v,name:p,value:b,type:"checkbox",checked:H,disabled:d,className:ve,onBlur:M,onChange:zt,onClick:ne,onFocus:k,"aria-invalid":C!=null,"aria-controls":t,"aria-describedby":le,role:Q?"presentation":"checkbox"},Se)),n.createElement("span",{className:V.Backdrop,onClick:Pn,onKeyUp:Pn}),n.createElement("span",{className:_(V.Icon,!q&&V.animated)},q?n.createElement(ie,{source:Bn}):Ie)))});function zt(){}function Pn(e){e.stopPropagation()}var Vt={Bleed:"Polaris-Bleed"};const yt=({marginInline:e,marginBlock:t,marginBlockStart:a,marginBlockEnd:r,marginInlineStart:l,marginInlineEnd:s,children:c})=>{const d=k=>{const E=["marginInlineStart","marginInlineEnd"],P=["marginBlockStart","marginBlockEnd"],u={marginBlockStart:a,marginBlockEnd:r,marginInlineStart:l,marginInlineEnd:s,marginInline:e,marginBlock:t};if(u[k])return u[k];if(E.includes(k)&&e)return u.marginInline;if(P.includes(k)&&t)return u.marginBlock},f=d("marginBlockStart"),p=d("marginBlockEnd"),b=d("marginInlineStart"),C=d("marginInlineEnd"),I={...K("bleed","margin-block-start","space",f),...K("bleed","margin-block-end","space",p),...K("bleed","margin-inline-start","space",b),...K("bleed","margin-inline-end","space",C)};return n.createElement("div",{className:Vt.Bleed,style:Fn(I)},c)};var J={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function Dn({children:e,fill:t}){const a=_(J.Item,t&&J["Item-fill"]);return n.createElement("div",{className:a},e)}const We=o.memo(function({children:t,vertical:a,spacing:r,distribution:l,alignment:s,wrap:c}){const d=_(J.LegacyStack,a&&J.vertical,r&&J[X("spacing",r)],l&&J[X("distribution",l)],s&&J[X("alignment",s)],c===!1&&J.noWrap),f=Pt(t).map((p,b)=>Ve(p,Dn,{key:b}));return n.createElement("div",{className:d},f)});We.Item=Dn;var qt={ChoiceChildren:"Polaris-ChoiceList__ChoiceChildren"},fe={RadioButton:"Polaris-RadioButton",Input:"Polaris-RadioButton__Input",Backdrop:"Polaris-RadioButton__Backdrop",ChoiceLabel:"Polaris-RadioButton__ChoiceLabel",toneMagic:"Polaris-RadioButton--toneMagic"};function Ut({ariaDescribedBy:e,label:t,labelHidden:a,helpText:r,checked:l,disabled:s,onChange:c,onFocus:d,onBlur:f,id:p,name:b,value:C,fill:I,bleed:k,bleedBlockStart:E,bleedBlockEnd:P,bleedInlineStart:u,bleedInlineEnd:L,tone:h}){const O=o.useId(),N=p??O,D=b||N,R=o.useRef(null),w=()=>{f&&f()};function T({currentTarget:ne}){c&&c(ne.checked,N)}const B=[];r&&B.push(Ge(N)),e&&B.push(e);const v=B.length?B.join(" "):void 0,Q=_(fe.Input,h&&fe[X("tone",h)]),M={helpText:r,bleed:k,bleedBlockStart:E,bleedBlockEnd:P,bleedInlineStart:u,bleedInlineEnd:L};return n.createElement(wn,Object.assign({label:t,labelHidden:a,disabled:s,id:N,labelClassName:fe.ChoiceLabel,fill:I},M,l?{tone:h}:{}),n.createElement("span",{className:fe.RadioButton},n.createElement("input",{id:N,name:D,value:C,type:"radio",checked:l,disabled:s,className:Q,onChange:T,onFocus:d,onBlur:w,"aria-describedby":v,ref:R}),n.createElement("span",{className:fe.Backdrop})))}function Gt({title:e,titleHidden:t,allowMultiple:a,choices:r,selected:l,onChange:s=Zt,error:c,disabled:d=!1,name:f,tone:p}){const b=a?Wt:Ut,C=o.useId(),I=f??C,k=a?`${I}[]`:I,E=e?n.createElement(be,{as:"legend",paddingBlockEnd:{xs:"0",md:"100"}},n.createElement(F,{as:"span",variant:"bodyMd",visuallyHidden:t},e)):null,P=r.map(L=>{const{value:h,id:O,label:N,helpText:D,disabled:R,describedByError:w}=L;function T(M){s(Xt(L,M,l,a),I)}const B=Sn(L,l),v=L.renderChildren?L.renderChildren(B):null,Q=v?n.createElement("div",{className:qt.ChoiceChildren},n.createElement(be,{paddingBlockStart:{xs:"400",md:"0"}},v)):null;return n.createElement("li",{key:h},n.createElement(yt,{marginBlockEnd:D?{xs:"100",md:"0"}:{xs:"0"}},n.createElement(b,{name:k,value:h,id:O,label:N,disabled:R||d,fill:{xs:!0,sm:!1},checked:Sn(L,l),helpText:D,onChange:T,ariaDescribedBy:c&&w?qe(k):null,tone:p}),Q))}),u=c&&n.createElement(be,{paddingBlockStart:{xs:"0",md:"100"},paddingBlockEnd:"200"},n.createElement(ye,{message:c,fieldID:k}));return n.createElement(ee,{as:"fieldset",gap:{xs:"400",md:"0"},"aria-invalid":c!=null,id:k},E,n.createElement(ee,{as:"ul",gap:{xs:"400",md:"0"}},P),u)}function Zt(){}function Sn({value:e},t){return t.includes(e)}function Xt({value:e},t,a,r=!1){return t?r?[...a,e]:[e]:a.filter(l=>l!==e)}var Oe={Item:"Polaris-FormLayout__Item",grouped:"Polaris-FormLayout--grouped",condensed:"Polaris-FormLayout--condensed"};function On({children:e,condensed:t=!1}){const a=_(Oe.Item,t?Oe.condensed:Oe.grouped);return e?n.createElement("div",{className:a},e):null}function $n({children:e,condensed:t,title:a,helpText:r}){const l=o.useId();let s=null,c,d=null,f;r&&(c=`${l}HelpText`,s=n.createElement(be,{id:c,color:"text-secondary"},r)),a&&(f=`${l}Title`,d=n.createElement(F,{id:f,as:"p"},a));const p=o.Children.map(e,b=>Ve(b,On,{condensed:t}));return n.createElement(ee,{role:"group",gap:"200","aria-labelledby":f,"aria-describedby":c},d,n.createElement(St,{gap:"300"},p),s)}const ze=o.memo(function({children:t}){return n.createElement(ee,{gap:"400"},o.Children.map(t,Qt))});ze.Group=$n;function Qt(e,t){return It(e,$n)?e:Ve(e,On,{key:t})}var y={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const In="";function Yt({options:e,label:t,labelAction:a,labelHidden:r,labelInline:l,disabled:s,helpText:c,placeholder:d,id:f,name:p,value:b=In,error:C,onChange:I,onFocus:k,onBlur:E,requiredIndicator:P,tone:u}){const{value:L,toggle:h}=Nn(!1),O=o.useId(),N=f??O,D=l?!0:r,R=_(y.Select,C&&y.error,u&&y[X("tone",u)],s&&y.disabled),w=o.useCallback(H=>{h(),k==null||k(H)},[k,h]),T=o.useCallback(H=>{h(),E==null||E(H)},[E,h]),B=I?H=>I(H.currentTarget.value,N):void 0,v=[];c&&v.push(Ue(N)),C&&v.push(`${N}Error`);let M=(e||[]).map(Jt);d&&(M=[{label:d,value:In,disabled:!0},...M]);const ne=l&&n.createElement(be,{paddingInlineEnd:"100"},n.createElement(F,{as:"span",variant:"bodyMd",tone:u&&u==="magic"&&!L?"magic-subdued":"subdued",truncate:!0},t)),$=Kt(M,b),le=$.prefix&&n.createElement("div",{className:y.Prefix},$.prefix),se=n.createElement("div",{className:y.Content,"aria-hidden":!0,"aria-disabled":s},ne,le,n.createElement("span",{className:y.SelectedOption},$.label),n.createElement("span",{className:y.Icon},n.createElement(ie,{source:vt}))),q=M.map(na);return n.createElement(An,{id:N,label:t,error:C,action:a,labelHidden:D,helpText:c,requiredIndicator:P,disabled:s},n.createElement("div",{className:R},n.createElement("select",{id:N,name:p,value:b,className:y.Input,disabled:s,onFocus:w,onBlur:T,onChange:B,"aria-invalid":!!C,"aria-describedby":v.length?v.join(" "):void 0,"aria-required":P},q),se,n.createElement("div",{className:y.Backdrop})))}function vn(e){return typeof e=="string"}function Ze(e){return typeof e=="object"&&"options"in e&&e.options!=null}function _n(e){return{label:e,value:e}}function Jt(e){if(vn(e))return _n(e);if(Ze(e)){const{title:t,options:a}=e;return{title:t,options:a.map(r=>vn(r)?_n(r):r)}}return e}function Kt(e,t){const a=ea(e);let r=a.find(l=>t===l.value);return r===void 0&&(r=a.find(l=>!l.hidden)),r||{value:"",label:""}}function ea(e){let t=[];return e.forEach(a=>{Ze(a)?t=t.concat(a.options):t.push(a)}),t}function Ln(e){const{value:t,label:a,prefix:r,key:l,...s}=e;return n.createElement("option",Object.assign({key:l??t,value:t},s),a)}function na(e){if(Ze(e)){const{title:t,options:a}=e;return n.createElement("optgroup",{label:t,key:t},a.map(Ln))}return Ln(e)}const sa=ft(function(){var P;const t=gt(),a=ht()||{},{settings:r={splittingEnabled:!1},mappings:l=[],locations:s=[]}=a,[c,d]=o.useState(!!r.splittingEnabled),[f,p]=o.useState(""),[b,C]=o.useState(((P=s[0])==null?void 0:P.id)||""),I=()=>{const u=new FormData;u.append("_action","updateSettings"),u.append("splittingEnabled",c?"true":"false"),t(u,{method:"post"})},k=()=>{const u=new FormData;u.append("_action","addMapping"),u.append("locationCode",f),u.append("locationGid",b),t(u,{method:"post"}),p("")},E=s.map(u=>({label:u.name,value:u.id}));return x.jsxs(ee,{gap:"500",children:[x.jsx(kn,{children:x.jsxs(ee,{gap:"500",children:[x.jsx(F,{as:"h2",variant:"headingMd",children:"General Settings"}),x.jsx(Gt,{title:"Order Splitting",choices:[{label:"Enable order splitting logic",value:"true"}],selected:c?["true"]:[],onChange:u=>d(u.includes("true"))}),x.jsx(ge,{onClick:I,variant:"primary",children:"Save Settings"})]})}),x.jsx(kn,{children:x.jsxs(ee,{gap:"500",children:[x.jsx(F,{as:"h2",variant:"headingMd",children:"Location Mappings"}),x.jsx(F,{children:"Map your product/variant `location_code` metafields to Shopify inventory locations."}),x.jsxs(ze,{children:[x.jsxs(ze.Group,{children:[x.jsx(Dt,{label:"Location Code",value:f,onChange:p,autoComplete:"off",placeholder:"e.g., NY-WAREHOUSE"}),x.jsx(Yt,{label:"Shopify Location",options:E,onChange:C,value:b})]}),x.jsx(ge,{onClick:k,disabled:!f||!b,children:"Add Mapping"})]}),x.jsxs(ee,{gap:"200",children:[l.map(u=>{var L;return x.jsxs(We,{alignment:"center",distribution:"equalSpacing",children:[x.jsxs(F,{children:[u.locationCode," â†’"," ",((L=s.find(h=>h.id===u.locationGid))==null?void 0:L.name)||u.locationGid]}),x.jsxs(xn,{method:"post",children:[x.jsx("input",{type:"hidden",name:"_action",value:"deleteMapping"}),x.jsx("input",{type:"hidden",name:"id",value:u.id}),x.jsx(ge,{submit:!0,variant:"tertiary",children:"Delete"})]})]},u.id)}),x.jsx(F,{as:"h3",variant:"headingSm",children:"Shopify Locations"}),s.map(u=>x.jsxs(We,{alignment:"center",distribution:"equalSpacing",children:[x.jsx(F,{children:u.name}),x.jsxs(xn,{method:"post",children:[x.jsx("input",{type:"hidden",name:"_action",value:"togglePresaleLocation"}),x.jsx("input",{type:"hidden",name:"locationGid",value:u.id}),x.jsx("input",{type:"hidden",name:"isPresale",value:"false"}),x.jsx(ge,{submit:!0,variant:"secondary",children:"Mark Pre-Sale"})]})]},u.id))]})]})})]})});export{sa as A,yt as B,ze as F,te as K,Dt as T,He as a,la as b,Nt as u};
