import{r as c,R as n,w as ft,G as ht,u as gt,j as u,F as Sn}from"./chunk-NISHYRIK-C6H48Nd1.js";import{l as he,I as ie,T as C,c as L,k as Nn,z as bt,t as Et,u as xt,v as Q,S as St,n as kt,m as ee,s as Fn,A as Ct,e as Ve,b as q,B as be,a as Pt,i as It,D as vt,E as De}from"./components-UtzYwED0.js";import{j as He,E as _t,u as Lt}from"./use-is-after-initial-mount-BFIEK1BH.js";let te=(function(e){return e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key0=48]="Key0",e[e.Key1=49]="Key1",e[e.Key2=50]="Key2",e[e.Key3=51]="Key3",e[e.Key4=52]="Key4",e[e.Key5=53]="Key5",e[e.Key6=54]="Key6",e[e.Key7=55]="Key7",e[e.Key8=56]="Key8",e[e.Key9=57]="Key9",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.LeftMeta=91]="LeftMeta",e[e.RightMeta=92]="RightMeta",e[e.Select=93]="Select",e[e.Numpad0=96]="Numpad0",e[e.Numpad1=97]="Numpad1",e[e.Numpad2=98]="Numpad2",e[e.Numpad3=99]="Numpad3",e[e.Numpad4=100]="Numpad4",e[e.Numpad5=101]="Numpad5",e[e.Numpad6=102]="Numpad6",e[e.Numpad7=103]="Numpad7",e[e.Numpad8=104]="Numpad8",e[e.Numpad9=105]="Numpad9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote",e})({});function Nt(e,t,a,r){const l=c.useRef(t),s=c.useRef(r);He(()=>{l.current=t},[t]),He(()=>{s.current=r},[r]),c.useEffect(()=>{if(!(typeof e=="string"&&a!==null))return;let o;if(typeof a>"u")o=window;else if("current"in a){if(a.current===null)return;o=a.current}else o=a;const m=s.current,g=p=>l.current(p);return o.addEventListener(e,g,m),()=>{o.removeEventListener(e,g,m)}},[e,a])}var Tn=function(t){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),n.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),n.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};Tn.displayName="AlertCircleIcon";var Mn=function(t){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),n.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};Mn.displayName="MinusIcon";var Bn=function(t){return n.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),n.createElement("path",{d:"M13.03 6.97a.75.75 0 0 1 0 1.06l-1.97 1.97 1.97 1.97a.75.75 0 1 1-1.06 1.06l-1.97-1.97-1.97 1.97a.75.75 0 0 1-1.06-1.06l1.97-1.97-1.97-1.97a.75.75 0 0 1 1.06-1.06l1.97 1.97 1.97-1.97a.75.75 0 0 1 1.06 0Z"}),n.createElement("path",{fillRule:"evenodd",d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"}))};Bn.displayName="XCircleIcon";function la(e,t={}){return Array.isArray(e)?e.map((a,r)=>We(a,t,r)):We(e,t)}function We({content:e,onAction:t,plain:a,destructive:r,...l},s,o){const m=a?"plain":void 0,g=r?"primary":void 0,p=!(s!=null&&s.tone)&&r?"critical":s==null?void 0:s.tone;return n.createElement(he,Object.assign({key:o,onClick:t,tone:p,variant:m||g},l,s),e)}var f={TextField:"Polaris-TextField",ClearButton:"Polaris-TextField__ClearButton",Loading:"Polaris-TextField__Loading",disabled:"Polaris-TextField--disabled",error:"Polaris-TextField--error",readOnly:"Polaris-TextField--readOnly",Input:"Polaris-TextField__Input",Backdrop:"Polaris-TextField__Backdrop",multiline:"Polaris-TextField--multiline",hasValue:"Polaris-TextField--hasValue",focus:"Polaris-TextField--focus",VerticalContent:"Polaris-TextField__VerticalContent",InputAndSuffixWrapper:"Polaris-TextField__InputAndSuffixWrapper",toneMagic:"Polaris-TextField--toneMagic",Prefix:"Polaris-TextField__Prefix",Suffix:"Polaris-TextField__Suffix",AutoSizeWrapper:"Polaris-TextField__AutoSizeWrapper",AutoSizeWrapperWithSuffix:"Polaris-TextField__AutoSizeWrapperWithSuffix",suggestion:"Polaris-TextField--suggestion",borderless:"Polaris-TextField--borderless",slim:"Polaris-TextField--slim","Input-hasClearButton":"Polaris-TextField__Input--hasClearButton","Input-suffixed":"Polaris-TextField__Input--suffixed","Input-alignRight":"Polaris-TextField__Input--alignRight","Input-alignLeft":"Polaris-TextField__Input--alignLeft","Input-alignCenter":"Polaris-TextField__Input--alignCenter","Input-autoSize":"Polaris-TextField__Input--autoSize",PrefixIcon:"Polaris-TextField__PrefixIcon",CharacterCount:"Polaris-TextField__CharacterCount",AlignFieldBottom:"Polaris-TextField__AlignFieldBottom",Spinner:"Polaris-TextField__Spinner",SpinnerIcon:"Polaris-TextField__SpinnerIcon",Resizer:"Polaris-TextField__Resizer",DummyInput:"Polaris-TextField__DummyInput",Segment:"Polaris-TextField__Segment",monospaced:"Polaris-TextField--monospaced"},ae={hidden:"Polaris-Labelled--hidden",LabelWrapper:"Polaris-Labelled__LabelWrapper",disabled:"Polaris-Labelled--disabled",HelpText:"Polaris-Labelled__HelpText",readOnly:"Polaris-Labelled--readOnly",Error:"Polaris-Labelled__Error",Action:"Polaris-Labelled__Action"},kn={InlineError:"Polaris-InlineError",Icon:"Polaris-InlineError__Icon"};function qe({message:e,fieldID:t}){return e?n.createElement("div",{id:Ue(t),className:kn.InlineError},n.createElement("div",{className:kn.Icon},n.createElement(ie,{source:Tn})),n.createElement(C,{as:"span",variant:"bodyMd"},e)):null}function Ue(e){return`${e}Error`}var Ce={Label:"Polaris-Label",hidden:"Polaris-Label--hidden",Text:"Polaris-Label__Text",RequiredIndicator:"Polaris-Label__RequiredIndicator"};function Rn(e){return`${e}Label`}function Ft({children:e,id:t,hidden:a,requiredIndicator:r}){const l=L(Ce.Label,a&&Ce.hidden);return n.createElement("div",{className:l},n.createElement("label",{id:Rn(t),htmlFor:t,className:L(Ce.Text,r&&Ce.RequiredIndicator)},n.createElement(C,{as:"span",variant:"bodyMd"},e)))}function jn({id:e,label:t,error:a,action:r,helpText:l,children:s,labelHidden:o,requiredIndicator:m,disabled:g,readOnly:p,...E}){const S=L(o&&ae.hidden,g&&ae.disabled,p&&ae.readOnly),v=r?n.createElement("div",{className:ae.Action},We(r,{variant:"plain"})):null,k=l?n.createElement("div",{className:ae.HelpText,id:Ge(e),"aria-disabled":g},n.createElement(C,{as:"span",tone:"subdued",variant:"bodyMd",breakWord:!0},l)):null,x=a&&typeof a!="boolean"&&n.createElement("div",{className:ae.Error},n.createElement(qe,{message:a,fieldID:e})),I=t?n.createElement("div",{className:ae.LabelWrapper},n.createElement(Ft,Object.assign({id:e,requiredIndicator:m},E,{hidden:!1}),t),v):null;return n.createElement("div",{className:S},I,s,x,k)}function Ge(e){return`${e}HelpText`}var ge={Connected:"Polaris-Connected",Item:"Polaris-Connected__Item","Item-primary":"Polaris-Connected__Item--primary","Item-focused":"Polaris-Connected__Item--focused"};function Oe({children:e,position:t}){const{value:a,setTrue:r,setFalse:l}=Nn(!1),s=L(ge.Item,a&&ge["Item-focused"],t==="primary"?ge["Item-primary"]:ge["Item-connection"]);return n.createElement("div",{onBlur:l,onFocus:r,className:s},e)}function Tt({children:e,left:t,right:a}){const r=t?n.createElement(Oe,{position:"left"},t):null,l=a?n.createElement(Oe,{position:"right"},a):null;return n.createElement("div",{className:ge.Connected},r,n.createElement(Oe,{position:"primary"},e),l)}const Mt=n.forwardRef(function({onChange:t,onClick:a,onMouseDown:r,onMouseUp:l,onBlur:s},o){function m(p){return()=>t(p)}function g(p){return E=>{E.button===0&&(r==null||r(p))}}return n.createElement("div",{className:f.Spinner,onClick:a,"aria-hidden":!0,ref:o},n.createElement("div",{role:"button",className:f.Segment,tabIndex:-1,onClick:m(1),onMouseDown:g(m(1)),onMouseUp:l,onBlur:s},n.createElement("div",{className:f.SpinnerIcon},n.createElement(ie,{source:bt}))),n.createElement("div",{role:"button",className:f.Segment,tabIndex:-1,onClick:m(-1),onMouseDown:g(m(-1)),onMouseUp:l,onBlur:s},n.createElement("div",{className:f.SpinnerIcon},n.createElement(ie,{source:Et}))))});function Bt({contents:e,currentHeight:t=null,minimumLines:a,onHeightChange:r}){const l=c.useRef(null),s=c.useRef(null),o=c.useRef(),m=c.useRef(t);t!==m.current&&(m.current=t),c.useEffect(()=>()=>{o.current&&cancelAnimationFrame(o.current)},[]);const g=a?n.createElement("div",{ref:s,className:f.DummyInput,dangerouslySetInnerHTML:{__html:At(a)}}):null,p=c.useCallback(()=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(!l.current||!s.current)return;const E=Math.max(l.current.offsetHeight,s.current.offsetHeight);E!==m.current&&r(E)})},[r]);return He(()=>{p()}),n.createElement("div",{"aria-hidden":!0,className:f.Resizer},n.createElement(_t,{event:"resize",handler:p}),n.createElement("div",{ref:l,className:f.DummyInput,dangerouslySetInnerHTML:{__html:wt(e)}}),g)}const An={"&":"&amp;","<":"&lt;",">":"&gt;","\n":"<br>","\r":""},Rt=new RegExp(`[${Object.keys(An).join()}]`,"g");function jt(e){return An[e]}function At(e){let t="";for(let a=0;a<e;a++)t+="<br>";return t}function wt(e){return e?`${e.replace(Rt,jt)}<br>`:"<br>"}function Dt({prefix:e,suffix:t,verticalContent:a,placeholder:r,value:l="",helpText:s,label:o,labelAction:m,labelHidden:g,disabled:p,clearButton:E,readOnly:S,autoFocus:v,focused:k,multiline:x,error:I,connectedRight:d,connectedLeft:N,type:b="text",name:O,id:F,role:D,step:R,largeStep:w,autoComplete:T,max:M,maxLength:_,maxHeight:Y,min:B,minLength:ne,pattern:$,inputMode:le,spellCheck:se,ariaOwns:U,ariaControls:H,ariaExpanded:Pe,ariaActiveDescendant:Ie,ariaAutocomplete:ve,showCharacterCount:Ee,align:Qe,requiredIndicator:Ye,monospaced:Hn,selectTextOnFocus:Wn,suggestion:G,variant:Je="inherit",size:zn="medium",onClearButtonClick:Ke,onChange:W,onSpinnerChange:J,onFocus:en,onBlur:nn,tone:tn,autoSize:_e,loading:yn}){const Le=xt(),[Ne,Vn]=c.useState(null),[oe,Fe]=c.useState(!!k),qn=Lt(),Un=c.useId(),P=F??Un,an=c.useRef(null),Z=c.useRef(null),rn=c.useRef(null),Te=c.useRef(null),Me=c.useRef(null),Be=c.useRef(null),xe=c.useRef(null),Re=c.useRef(),je=c.useRef(null),re=c.useCallback(()=>x?rn.current:Z.current,[x]);c.useEffect(()=>{const i=re();!i||k===void 0||(k?i.focus():i.blur())},[k,a,re]),c.useEffect(()=>{const i=Z.current;!i||!(b==="text"||b==="tel"||b==="search"||b==="url"||b==="password")||!G||i.setSelectionRange(l.length,G.length)},[oe,l,b,G]);const ce=G||l,ln=R??1,sn=M??1/0,on=B??-1/0,Gn=L(f.TextField,!!ce&&f.hasValue,p&&f.disabled,S&&f.readOnly,I&&f.error,tn&&f[Q("tone",tn)],x&&f.multiline,oe&&!p&&f.focus,Je!=="inherit"&&f[Je],zn==="slim"&&f.slim),Zn=b==="currency"?"text":b,Se=b==="number"||b==="integer",Xn=n.isValidElement(e)&&e.type===ie,Qn=e?n.createElement("div",{className:L(f.Prefix,Xn&&f.PrefixIcon),id:`${P}-Prefix`,ref:Te},n.createElement(C,{as:"span",variant:"bodyMd"},e)):null,cn=t?n.createElement("div",{className:f.Suffix,id:`${P}-Suffix`,ref:Me},n.createElement(C,{as:"span",variant:"bodyMd"},t)):null,Yn=yn?n.createElement("div",{className:f.Loading,id:`${P}-Loading`,ref:Be},n.createElement(St,{size:"small"})):null;let dn=null;if(Ee){const i=ce.length,h=_?Le.translate("Polaris.TextField.characterCountWithMaxLength",{count:i,limit:_}):Le.translate("Polaris.TextField.characterCount",{count:i}),j=L(f.CharacterCount,x&&f.AlignFieldBottom),A=_?`${i}/${_}`:i;dn=n.createElement("div",{id:`${P}-CharacterCounter`,className:j,"aria-label":h,"aria-live":oe?"polite":"off","aria-atomic":"true",onClick:ke},n.createElement(C,{as:"span",variant:"bodyMd"},A))}const Jn=E&&ce!==""?n.createElement("button",{type:"button",className:f.ClearButton,onClick:dt,disabled:p},n.createElement(C,{as:"span",visuallyHidden:!0},Le.translate("Polaris.Common.clear")),n.createElement(ie,{source:Bn,tone:"base"})):null,de=c.useCallback((i,h=ln)=>{if(W==null&&J==null)return;const j=pt=>(pt.toString().split(".")[1]||[]).length,A=l?parseFloat(l):0;if(isNaN(A))return;const z=b==="integer"?0:Math.max(j(A),j(h)),pe=Math.min(Number(sn),Math.max(A+i*h,Number(on)));J!=null?J(String(pe.toFixed(z)),P):W!=null&&W(String(pe.toFixed(z)),P)},[P,sn,on,W,J,ln,b,l]),Ae=c.useCallback(()=>{clearTimeout(Re.current)},[]),Kn=c.useCallback(i=>{let A=200;const z=()=>{A>50&&(A-=10),i(0),Re.current=window.setTimeout(z,A)};Re.current=window.setTimeout(z,A),document.addEventListener("mouseup",Ae,{once:!0})},[Ae]),et=Se&&R!==0&&!p&&!S?n.createElement(Mt,{onClick:ke,onChange:de,onMouseDown:Kn,onMouseUp:Ae,ref:je,onBlur:hn}):null,nt=x&&Ne?{height:Ne,maxHeight:Y}:null,tt=c.useCallback(i=>{Vn(i)},[]),at=x&&qn?n.createElement(Bt,{contents:ce||r,currentHeight:Ne,minimumLines:typeof x=="number"?x:1,onHeightChange:tt}):null,ue=[];I&&ue.push(`${P}Error`),s&&ue.push(Ge(P)),Ee&&ue.push(`${P}-CharacterCounter`);const me=[];e&&me.push(`${P}-Prefix`),t&&me.push(`${P}-Suffix`),a&&me.push(`${P}-VerticalContent`),me.unshift(Rn(P));const it=L(f.Input,Qe&&f[Q("Input-align",Qe)],t&&f["Input-suffixed"],E&&f["Input-hasClearButton"],Hn&&f.monospaced,G&&f.suggestion,_e&&f["Input-autoSize"]),un=i=>{if(Fe(!0),Wn&&!G){const h=re();h==null||h.select()}en&&en(i)};Nt("wheel",rt,Z);function rt(i){document.activeElement===i.target&&Se&&i.stopPropagation()}const mn=c.createElement(x?"textarea":"input",{name:O,id:P,disabled:p,readOnly:S,role:D,autoFocus:v,value:ce,placeholder:r,style:nt,autoComplete:T,className:it,ref:x?rn:Z,min:B,max:M,step:R,minLength:ne,maxLength:_,spellCheck:se,pattern:$,inputMode:le,type:Zn,rows:Ot(x),size:_e?1:void 0,"aria-describedby":ue.length?ue.join(" "):void 0,"aria-labelledby":me.join(" "),"aria-invalid":!!I,"aria-owns":U,"aria-activedescendant":Ie,"aria-autocomplete":ve,"aria-controls":H,"aria-expanded":Pe,"aria-required":Ye,...$t(x),onFocus:un,onBlur:hn,onClick:ke,onKeyPress:ut,onKeyDown:mt,onChange:G?void 0:fn,onInput:G?fn:void 0,"data-1p-ignore":T==="off"||void 0,"data-lpignore":T==="off"||void 0,"data-form-type":T==="off"?"other":void 0}),lt=a?n.createElement("div",{className:f.VerticalContent,id:`${P}-VerticalContent`,ref:xe,onClick:ke},a,mn):null,pn=a?lt:mn,st=n.createElement("div",{className:L(f.Backdrop,N&&f["Backdrop-connectedLeft"],d&&f["Backdrop-connectedRight"])}),ot=_e?n.createElement("div",{className:f.InputAndSuffixWrapper},n.createElement("div",{className:L(f.AutoSizeWrapper,t&&f.AutoSizeWrapperWithSuffix),"data-auto-size-value":l||r},pn),cn):n.createElement(n.Fragment,null,pn,cn);return n.createElement(jn,{label:o,id:P,error:I,action:m,labelHidden:g,helpText:s,requiredIndicator:Ye,disabled:p,readOnly:S},n.createElement(Tt,{left:N,right:d},n.createElement("div",{className:Gn,onClick:ct,ref:an},Qn,ot,dn,Yn,Jn,et,st,at)));function fn(i){W&&W(i.currentTarget.value,P)}function ct(i){var A,z,pe;const{target:h}=i,j=(A=Z==null?void 0:Z.current)==null?void 0:A.getAttribute("role");if(h===Z.current&&j==="combobox"){(z=Z.current)==null||z.focus(),un(i);return}gn(h)||xn(h)||we(h)||bn(h)||En(h)||oe||(pe=re())==null||pe.focus()}function ke(i){var h;!bn(i.target)&&!we(i.target)&&i.stopPropagation(),!(gn(i.target)||xn(i.target)||we(i.target)||En(i.target)||oe)&&(Fe(!0),(h=re())==null||h.focus())}function dt(){Ke&&Ke(P)}function ut(i){const{key:h,which:j}=i,A=/[\d.,eE+-]$/,z=/[\deE+-]$/;!Se||j===te.Enter||b==="number"&&A.test(h)||b==="integer"&&z.test(h)||i.preventDefault()}function mt(i){if(!Se)return;const{key:h,which:j}=i;b==="integer"&&(h==="ArrowUp"||j===te.UpArrow)&&(de(1),i.preventDefault()),b==="integer"&&(h==="ArrowDown"||j===te.DownArrow)&&(de(-1),i.preventDefault()),(j===te.Home||h==="Home")&&B!==void 0&&(J!=null?J(String(B),P):W!=null&&W(String(B),P)),(j===te.End||h==="End")&&M!==void 0&&(J!=null?J(String(M),P):W!=null&&W(String(M),P)),(j===te.PageUp||h==="PageUp")&&w!==void 0&&de(1,w),(j===te.PageDown||h==="PageDown")&&w!==void 0&&de(-1,w)}function hn(i){var h;Fe(!1),!((h=an.current)!=null&&h.contains(i==null?void 0:i.relatedTarget))&&nn&&nn(i)}function we(i){const h=re();return i instanceof HTMLElement&&h&&(h.contains(i)||h.contains(document.activeElement))}function gn(i){return i instanceof Element&&(Te.current&&Te.current.contains(i)||Me.current&&Me.current.contains(i))}function bn(i){return i instanceof Element&&je.current&&je.current.contains(i)}function En(i){return i instanceof Element&&Be.current&&Be.current.contains(i)}function xn(i){return i instanceof Element&&xe.current&&(xe.current.contains(i)||xe.current.contains(document.activeElement))}}function Ot(e){if(e)return typeof e=="number"?e:1}function $t(e){if(e)return e||typeof e=="number"&&e>0?{"aria-multiline":!0}:void 0}const Ht=c.createContext(!1);var y={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},X={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function wn({id:e,label:t,disabled:a,error:r,children:l,labelHidden:s,helpText:o,onClick:m,labelClassName:g,fill:p,bleed:E,bleedBlockStart:S,bleedBlockEnd:v,bleedInlineStart:k,bleedInlineEnd:x,tone:I}){const d=L(X.Choice,s&&X.labelHidden,a&&X.disabled,I&&X[Q("tone",I)],g),N={...ee("choice","bleed-block-end","space",v||E),...ee("choice","bleed-block-start","space",S||E),...ee("choice","bleed-inline-start","space",k||E),...ee("choice","bleed-inline-end","space",x||E),...Object.fromEntries(Object.entries(kt("choice","fill",p)).map(([R,w])=>[R,w?"100%":"auto"]))},b=n.createElement("label",{className:d,htmlFor:e,onClick:m,style:Fn(N)},n.createElement("span",{className:X.Control},l),n.createElement("span",{className:X.Label},n.createElement(C,{as:"span",variant:"bodyMd"},t))),O=o?n.createElement("div",{className:X.HelpText,id:Ze(e)},n.createElement(C,{as:"span",tone:a?void 0:"subdued"},o)):null,F=r&&typeof r!="boolean"&&n.createElement("div",{className:X.Error},n.createElement(qe,{message:r,fieldID:e})),D=O||F?n.createElement("div",{className:X.Descriptions},F,O):null;return D?n.createElement("div",null,b,D):b}function Ze(e){return`${e}HelpText`}const Wt=c.forwardRef(function({ariaControls:t,ariaDescribedBy:a,label:r,labelHidden:l,checked:s=!1,helpText:o,disabled:m,id:g,name:p,value:E,error:S,onChange:v,onFocus:k,onBlur:x,labelClassName:I,fill:d,bleed:N,bleedBlockStart:b,bleedBlockEnd:O,bleedInlineStart:F,bleedInlineEnd:D,tone:R},w){const T=c.useRef(null),M=c.useId(),_=g??M,Y=c.useContext(Ht);c.useImperativeHandle(w,()=>({focus:()=>{T.current&&T.current.focus()}}));const B=()=>{x&&x()},ne=()=>{v==null||T.current==null||m||(v(T.current.checked,_),T.current.focus())},$=[];S&&typeof S!="boolean"&&$.push(Ue(_)),o&&$.push(Ze(_)),a&&$.push(a);const le=$.length?$.join(" "):void 0,se=L(y.Checkbox,S&&y.error),U=s==="indeterminate",H=!U&&!!s,Pe=U?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":H},Ie=n.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},n.createElement("path",{className:L(s&&y.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),ve=L(y.Input,U&&y["Input-indeterminate"],R&&y[Q("tone",R)]),Ee={helpText:o,error:S,bleed:N,bleedBlockStart:b,bleedBlockEnd:O,bleedInlineStart:F,bleedInlineEnd:D};return n.createElement(wn,Object.assign({id:_,label:r,labelHidden:l,disabled:m,labelClassName:L(y.ChoiceLabel,I),fill:d,tone:R},Ee),n.createElement("span",{className:se},n.createElement("input",Object.assign({ref:T,id:_,name:p,value:E,type:"checkbox",checked:H,disabled:m,className:ve,onBlur:B,onChange:zt,onClick:ne,onFocus:k,"aria-invalid":S!=null,"aria-controls":t,"aria-describedby":le,role:Y?"presentation":"checkbox"},Pe)),n.createElement("span",{className:y.Backdrop,onClick:Cn,onKeyUp:Cn}),n.createElement("span",{className:L(y.Icon,!U&&y.animated)},U?n.createElement(ie,{source:Mn}):Ie)))});function zt(){}function Cn(e){e.stopPropagation()}var yt={Bleed:"Polaris-Bleed"};const Vt=({marginInline:e,marginBlock:t,marginBlockStart:a,marginBlockEnd:r,marginInlineStart:l,marginInlineEnd:s,children:o})=>{const m=k=>{const x=["marginInlineStart","marginInlineEnd"],I=["marginBlockStart","marginBlockEnd"],d={marginBlockStart:a,marginBlockEnd:r,marginInlineStart:l,marginInlineEnd:s,marginInline:e,marginBlock:t};if(d[k])return d[k];if(x.includes(k)&&e)return d.marginInline;if(I.includes(k)&&t)return d.marginBlock},g=m("marginBlockStart"),p=m("marginBlockEnd"),E=m("marginInlineStart"),S=m("marginInlineEnd"),v={...ee("bleed","margin-block-start","space",g),...ee("bleed","margin-block-end","space",p),...ee("bleed","margin-inline-start","space",E),...ee("bleed","margin-inline-end","space",S)};return n.createElement("div",{className:yt.Bleed,style:Fn(v)},o)};var K={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function Dn({children:e,fill:t}){const a=L(K.Item,t&&K["Item-fill"]);return n.createElement("div",{className:a},e)}const ze=c.memo(function({children:t,vertical:a,spacing:r,distribution:l,alignment:s,wrap:o}){const m=L(K.LegacyStack,a&&K.vertical,r&&K[Q("spacing",r)],l&&K[Q("distribution",l)],s&&K[Q("alignment",s)],o===!1&&K.noWrap),g=Ct(t).map((p,E)=>Ve(p,Dn,{key:E}));return n.createElement("div",{className:m},g)});ze.Item=Dn;var qt={ChoiceChildren:"Polaris-ChoiceList__ChoiceChildren"},fe={RadioButton:"Polaris-RadioButton",Input:"Polaris-RadioButton__Input",Backdrop:"Polaris-RadioButton__Backdrop",ChoiceLabel:"Polaris-RadioButton__ChoiceLabel",toneMagic:"Polaris-RadioButton--toneMagic"};function Ut({ariaDescribedBy:e,label:t,labelHidden:a,helpText:r,checked:l,disabled:s,onChange:o,onFocus:m,onBlur:g,id:p,name:E,value:S,fill:v,bleed:k,bleedBlockStart:x,bleedBlockEnd:I,bleedInlineStart:d,bleedInlineEnd:N,tone:b}){const O=c.useId(),F=p??O,D=E||F,R=c.useRef(null),w=()=>{g&&g()};function T({currentTarget:ne}){o&&o(ne.checked,F)}const M=[];r&&M.push(Ze(F)),e&&M.push(e);const _=M.length?M.join(" "):void 0,Y=L(fe.Input,b&&fe[Q("tone",b)]),B={helpText:r,bleed:k,bleedBlockStart:x,bleedBlockEnd:I,bleedInlineStart:d,bleedInlineEnd:N};return n.createElement(wn,Object.assign({label:t,labelHidden:a,disabled:s,id:F,labelClassName:fe.ChoiceLabel,fill:v},B,l?{tone:b}:{}),n.createElement("span",{className:fe.RadioButton},n.createElement("input",{id:F,name:D,value:S,type:"radio",checked:l,disabled:s,className:Y,onChange:T,onFocus:m,onBlur:w,"aria-describedby":_,ref:R}),n.createElement("span",{className:fe.Backdrop})))}function Gt({title:e,titleHidden:t,allowMultiple:a,choices:r,selected:l,onChange:s=Zt,error:o,disabled:m=!1,name:g,tone:p}){const E=a?Wt:Ut,S=c.useId(),v=g??S,k=a?`${v}[]`:v,x=e?n.createElement(be,{as:"legend",paddingBlockEnd:{xs:"0",md:"100"}},n.createElement(C,{as:"span",variant:"bodyMd",visuallyHidden:t},e)):null,I=r.map(N=>{const{value:b,id:O,label:F,helpText:D,disabled:R,describedByError:w}=N;function T(B){s(Xt(N,B,l,a),v)}const M=Pn(N,l),_=N.renderChildren?N.renderChildren(M):null,Y=_?n.createElement("div",{className:qt.ChoiceChildren},n.createElement(be,{paddingBlockStart:{xs:"400",md:"0"}},_)):null;return n.createElement("li",{key:b},n.createElement(Vt,{marginBlockEnd:D?{xs:"100",md:"0"}:{xs:"0"}},n.createElement(E,{name:k,value:b,id:O,label:F,disabled:R||m,fill:{xs:!0,sm:!1},checked:Pn(N,l),helpText:D,onChange:T,ariaDescribedBy:o&&w?Ue(k):null,tone:p}),Y))}),d=o&&n.createElement(be,{paddingBlockStart:{xs:"0",md:"100"},paddingBlockEnd:"200"},n.createElement(qe,{message:o,fieldID:k}));return n.createElement(q,{as:"fieldset",gap:{xs:"400",md:"0"},"aria-invalid":o!=null,id:k},x,n.createElement(q,{as:"ul",gap:{xs:"400",md:"0"}},I),d)}function Zt(){}function Pn({value:e},t){return t.includes(e)}function Xt({value:e},t,a,r=!1){return t?r?[...a,e]:[e]:a.filter(l=>l!==e)}var $e={Item:"Polaris-FormLayout__Item",grouped:"Polaris-FormLayout--grouped",condensed:"Polaris-FormLayout--condensed"};function On({children:e,condensed:t=!1}){const a=L($e.Item,t?$e.condensed:$e.grouped);return e?n.createElement("div",{className:a},e):null}function $n({children:e,condensed:t,title:a,helpText:r}){const l=c.useId();let s=null,o,m=null,g;r&&(o=`${l}HelpText`,s=n.createElement(be,{id:o,color:"text-secondary"},r)),a&&(g=`${l}Title`,m=n.createElement(C,{id:g,as:"p"},a));const p=c.Children.map(e,E=>Ve(E,On,{condensed:t}));return n.createElement(q,{role:"group",gap:"200","aria-labelledby":g,"aria-describedby":o},m,n.createElement(Pt,{gap:"300"},p),s)}const ye=c.memo(function({children:t}){return n.createElement(q,{gap:"400"},c.Children.map(t,Qt))});ye.Group=$n;function Qt(e,t){return It(e,$n)?e:Ve(e,On,{key:t})}var V={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const In="";function Yt({options:e,label:t,labelAction:a,labelHidden:r,labelInline:l,disabled:s,helpText:o,placeholder:m,id:g,name:p,value:E=In,error:S,onChange:v,onFocus:k,onBlur:x,requiredIndicator:I,tone:d}){const{value:N,toggle:b}=Nn(!1),O=c.useId(),F=g??O,D=l?!0:r,R=L(V.Select,S&&V.error,d&&V[Q("tone",d)],s&&V.disabled),w=c.useCallback(H=>{b(),k==null||k(H)},[k,b]),T=c.useCallback(H=>{b(),x==null||x(H)},[x,b]),M=v?H=>v(H.currentTarget.value,F):void 0,_=[];o&&_.push(Ge(F)),S&&_.push(`${F}Error`);let B=(e||[]).map(Jt);m&&(B=[{label:m,value:In,disabled:!0},...B]);const ne=l&&n.createElement(be,{paddingInlineEnd:"100"},n.createElement(C,{as:"span",variant:"bodyMd",tone:d&&d==="magic"&&!N?"magic-subdued":"subdued",truncate:!0},t)),$=Kt(B,E),le=$.prefix&&n.createElement("div",{className:V.Prefix},$.prefix),se=n.createElement("div",{className:V.Content,"aria-hidden":!0,"aria-disabled":s},ne,le,n.createElement("span",{className:V.SelectedOption},$.label),n.createElement("span",{className:V.Icon},n.createElement(ie,{source:vt}))),U=B.map(na);return n.createElement(jn,{id:F,label:t,error:S,action:a,labelHidden:D,helpText:o,requiredIndicator:I,disabled:s},n.createElement("div",{className:R},n.createElement("select",{id:F,name:p,value:E,className:V.Input,disabled:s,onFocus:w,onBlur:T,onChange:M,"aria-invalid":!!S,"aria-describedby":_.length?_.join(" "):void 0,"aria-required":I},U),se,n.createElement("div",{className:V.Backdrop})))}function vn(e){return typeof e=="string"}function Xe(e){return typeof e=="object"&&"options"in e&&e.options!=null}function _n(e){return{label:e,value:e}}function Jt(e){if(vn(e))return _n(e);if(Xe(e)){const{title:t,options:a}=e;return{title:t,options:a.map(r=>vn(r)?_n(r):r)}}return e}function Kt(e,t){const a=ea(e);let r=a.find(l=>t===l.value);return r===void 0&&(r=a.find(l=>!l.hidden)),r||{value:"",label:""}}function ea(e){let t=[];return e.forEach(a=>{Xe(a)?t=t.concat(a.options):t.push(a)}),t}function Ln(e){const{value:t,label:a,prefix:r,key:l,...s}=e;return n.createElement("option",Object.assign({key:l??t,value:t},s),a)}function na(e){if(Xe(e)){const{title:t,options:a}=e;return n.createElement("optgroup",{label:t,key:t},a.map(Ln))}return Ln(e)}const sa=ft(function(){const t=ht(),a=gt()||{},{settings:r={splittingEnabled:!1},mappings:l=[],locations:s=[],locationError:o=null}=a,[m,g]=c.useState(!!r.splittingEnabled),[p,E]=c.useState(""),[S,v]=c.useState(s.length>0?s[0].id:""),k=()=>{const d=new FormData;d.append("_action","updateSettings"),d.append("splittingEnabled",m?"true":"false"),t(d,{method:"post"})},x=()=>{const d=new FormData;d.append("_action","addMapping"),d.append("locationCode",p),d.append("locationGid",S),t(d,{method:"post"}),E("")},I=s.map(d=>({label:d.name,value:d.id}));return u.jsxs(q,{gap:"500",children:[u.jsx(De,{children:u.jsxs(q,{gap:"500",children:[u.jsx(C,{as:"h2",variant:"headingMd",children:"General Settings"}),u.jsx(Gt,{title:"Order Splitting",choices:[{label:"Enable order splitting logic",value:"true"}],selected:m?["true"]:[],onChange:d=>g(d.includes("true"))}),u.jsx(he,{onClick:k,variant:"primary",children:"Save Settings"})]})}),u.jsx(De,{children:u.jsxs(q,{gap:"500",children:[u.jsx(C,{as:"h2",variant:"headingMd",children:"Location Mappings"}),u.jsx(C,{children:"Map your product/variant `location_code` metafields to Shopify inventory locations."}),o&&u.jsxs(C,{variant:"bodySm",color:"critical",children:["Location Error: ",o]}),u.jsx(De,{background:"bg-surface-info",children:u.jsxs(q,{gap:"200",children:[u.jsx(C,{variant:"headingSm",color:"text-info",children:"Debug Information"}),u.jsxs(C,{variant:"bodySm",children:[u.jsx("strong",{children:"Locations found:"})," ",s.length]}),s.length>0?u.jsxs(q,{gap:"100",children:[u.jsx(C,{variant:"bodySm",children:u.jsx("strong",{children:"Available locations:"})}),s.map(d=>u.jsxs(C,{variant:"bodySm",children:["• ",d.name," (ID: ",d.id,")"]},d.id))]}):u.jsxs(C,{variant:"bodySm",color:"critical",children:["No locations found - this could indicate:",u.jsx("br",{}),"• Missing read_locations scope",u.jsx("br",{}),"• No locations configured in Shopify",u.jsx("br",{}),"• Authentication issues"]}),o&&u.jsxs(C,{variant:"bodySm",color:"critical",children:[u.jsx("strong",{children:"Error details:"})," ",o]})]})}),u.jsxs(ye,{children:[u.jsxs(ye.Group,{children:[u.jsx(Dt,{label:"Location Code",value:p,onChange:E,autoComplete:"off",placeholder:"e.g., NY-WAREHOUSE"}),u.jsx(Yt,{label:"Shopify Location",options:I,onChange:v,value:S,placeholder:s.length===0?"No locations found":"Select a location"})]}),u.jsx(he,{onClick:x,disabled:!p||!S,children:"Add Mapping"})]}),u.jsxs(q,{gap:"200",children:[l.map(d=>{var N;return u.jsxs(ze,{alignment:"center",distribution:"equalSpacing",children:[u.jsxs(C,{children:[d.locationCode," →"," ",((N=s.find(b=>b.id===d.locationGid))==null?void 0:N.name)||d.locationGid]}),u.jsxs(Sn,{method:"post",children:[u.jsx("input",{type:"hidden",name:"_action",value:"deleteMapping"}),u.jsx("input",{type:"hidden",name:"id",value:d.id}),u.jsx(he,{submit:!0,variant:"tertiary",children:"Delete"})]})]},d.id)}),u.jsx(C,{as:"h3",variant:"headingSm",children:"Shopify Locations"}),s.map(d=>u.jsxs(ze,{alignment:"center",distribution:"equalSpacing",children:[u.jsx(C,{children:d.name}),u.jsxs(Sn,{method:"post",children:[u.jsx("input",{type:"hidden",name:"_action",value:"togglePresaleLocation"}),u.jsx("input",{type:"hidden",name:"locationGid",value:d.id}),u.jsx("input",{type:"hidden",name:"isPresale",value:"false"}),u.jsx(he,{submit:!0,variant:"secondary",children:"Mark Pre-Sale"})]})]},d.id))]})]})})]})});export{sa as A,Vt as B,ye as F,te as K,Dt as T,We as a,la as b,Nt as u};
